<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FortniteLauncher.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FortniteLauncher.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.Labs.WinUI"
    mc:Ignorable="d"
    Loaded="PageLoaded">

    <Grid Margin="55,15,55,35">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" x:Name="AppearanceSettingsPanel" Spacing="3">
            <TextBlock Text="Appearance and Behavior" 
                       Style="{ThemeResource CaptionTextBlockStyle}" 
                       FontWeight="SemiBold"/>

            <controls:SettingsCard x:Name="SoundSettingsCard"
                                   Header="Sound Effects"
                                   Description="Hear sound effects while navigating the launcher menus."
                                   FontWeight="SemiBold">
                <ToggleSwitch x:Name="SoundToggle" Toggled="ToggleSoundSwitch"/>
            </controls:SettingsCard>
        </StackPanel>

        <StackPanel Grid.Row="1" x:Name="LobbyBackgroundPanel" Spacing="3" Margin="0,2,0,12">
            <controls:SettingsCard x:Name="WorldCupLobbyCard"
                                   Header="World Cup"
                                   Description="Toggle the Fortnite World Cup lobby background in-game."
                                   FontWeight="SemiBold">
                <ToggleSwitch x:Name="WorldCupToggle" Toggled="ToggleWorldCup"/>
            </controls:SettingsCard>
        </StackPanel>

        <StackPanel Grid.Row="1" x:Name="BuildingStylePanel" Spacing="3" Margin="0,75,0,12">
            <controls:SettingsCard x:Name="BubbleBuildsCard" 
                                   Header="Bubble Builds" 
                                   Description="Enable Bubble Wrap Builds as your building style in-game."
                                   FontWeight="SemiBold">
                <ToggleSwitch x:Name="BubbleBuildsToggle" Toggled="ToggleBubbleBuilds"/>
            </controls:SettingsCard>
        </StackPanel>

        <Grid x:Name="FooterGrid" Grid.Row="8" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal" Spacing="4">
                <Button Content="Log Out" 
                        Background="Red" 
                        Margin="0,4,0,4" 
                        x:Name="LogoutBtn" 
                        Click="SignOutAccount"
                        FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>

        <StackPanel Grid.Row="5" x:Name="AboutRegion" Spacing="3" Margin="0,15,0,0">
            <TextBlock Text="About" 
                       Style="{ThemeResource CaptionTextBlockStyle}" 
                       FontWeight="SemiBold"/>
            <controls:SettingsExpander x:Name="About"
                                       Header="{x:Bind About_Header}"
                                       Description="{x:Bind LauncherVersion}"
                                       FontWeight="SemiBold">
                <controls:SettingsExpander.HeaderIcon>
                    <ImageIcon Source="ms-appx:///Content/Texture/Branding/Eon.ico"/>
                </controls:SettingsExpander.HeaderIcon>

                <controls:SettingsExpander.Items>
                    <controls:SettingsCard FontWeight="SemiBold">
                        <controls:SettingsCard.Header>
                            <TextBlock Margin="-35,0,0,0"
                                       FontWeight="SemiBold">
                                <Run Text="Launcher made by"/>
                                <Hyperlink NavigateUri="{x:Bind GitHub_Juri}">
                                    <Run Text="Jurij15"/>
                                </Hyperlink>
                                <Run Text="and"/>
                                <Hyperlink NavigateUri="{x:Bind Github_David}">
                                    <Run Text="David"/>
                                </Hyperlink>
                                <Run Text="."/>
                            </TextBlock>
                        </controls:SettingsCard.Header>
                    </controls:SettingsCard>
                </controls:SettingsExpander.Items>

                <controls:SettingsExpander.ItemsFooter>
                    <controls:SettingsCard FontWeight="SemiBold">
                        <controls:SettingsCard.Header>
                            <StackPanel Orientation="Horizontal">
                                <HyperlinkButton NavigateUri="{x:Bind Discord}" 
                                                 Content="Discord"
                                                 FontWeight="SemiBold"/>
                                <HyperlinkButton NavigateUri="{x:Bind Tiktok}" 
                                                 Content="TikTok"
                                                 FontWeight="SemiBold"/>
                            </StackPanel>
                        </controls:SettingsCard.Header>
                    </controls:SettingsCard>
                </controls:SettingsExpander.ItemsFooter>
            </controls:SettingsExpander>
        </StackPanel>
    </Grid>
</Page>