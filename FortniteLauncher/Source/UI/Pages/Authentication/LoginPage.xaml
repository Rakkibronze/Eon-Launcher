<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FortniteLauncher.Pages.LoginPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FortniteLauncher.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    mc:Ignorable="d"
    Loaded="PageLoaded">

    <Page.Resources>
        <Style x:Key="CustomHyperlinkButtonStyle" TargetType="HyperlinkButton">
            <Setter Property="Padding" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="HyperlinkButton">
                        <TextBlock x:Name="ContentPresenter"
                                   Foreground="{TemplateBinding Foreground}"
                                   Text="{TemplateBinding Content}"
                                   HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                   VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   TextDecorations="Underline"
                                   FontWeight="SemiBold"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="CustomHyperlinkButtonStyle2" TargetType="HyperlinkButton">
            <Setter Property="Padding" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="HyperlinkButton">
                        <TextBlock x:Name="ContentPresenter"
                                   Foreground="{TemplateBinding Foreground}"
                                   Text="{TemplateBinding Content}"
                                   HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                   VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   TextDecorations="Underline"
                                   FontWeight="SemiBold"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="#202336">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
            <Grid VerticalAlignment="Center" Background="Transparent">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Orientation="Horizontal" Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text=" " 
                               Style="{ThemeResource TitleLargeTextBlockStyle}" 
                               FontWeight="SemiBold" 
                               Visibility="Visible"/>
                    <Image x:Name="BattleBus" 
                           Source="ms-appx:///Content/Texture/UI/T_BattleBus.png" 
                           Width="512" 
                           Height="512" 
                           Margin="600,-10,0,0" 
                           Visibility="Visible"/>
                </StackPanel>

                <Image x:Name="EonLogoPFP" 
                       Source="ms-appx:///Content/Texture/Branding/Eon.ico" 
                       Width="125" 
                       Height="125" 
                       Margin="-735,-300,0,0" 
                       Visibility="Visible"/>

                <StackPanel VerticalAlignment="Center" Grid.Row="2" Margin="20,-200,320,24" HorizontalAlignment="Left">
                    <StackPanel Spacing="5" Margin="30,-150,0,0">
                        <TextBlock Margin="145,-60,0,0" 
                                   HorizontalAlignment="Left" 
                                   VerticalAlignment="Center" 
                                   Text="LOG IN" 
                                   FontWeight="SemiBold" 
                                   Style="{ThemeResource SubtitleTextBlockStyle}" 
                                   Grid.Row="1" 
                                   FontSize="20"/>
                        <TextBox x:Name="MailBox" 
                                 PlaceholderText="Email Address" 
                                 Width="360"
                                 FontWeight="SemiBold"/>
                        <PasswordBox x:Name="PasswordBox" 
                                     PlaceholderText="Password" 
                                     IsPasswordRevealButtonEnabled="True" 
                                     Width="360"
                                     FontWeight="SemiBold"/>
                    </StackPanel>

                    <CheckBox x:Name="RememberMeCheckBox" 
                              IsChecked="True" 
                              Content="Stay signed in" 
                              Margin="35,-115,0,0"
                              FontWeight="SemiBold"/>

                    <HyperlinkButton x:Name="CustomHyperlink1" 
                                     Margin="285,-115,0,0" 
                                     Style="{StaticResource CustomHyperlinkButtonStyle}" 
                                     NavigateUri="https://discord.gg/GJf3neUncp" 
                                     Content="Forgot Password"/>

                    <Button Style="{ThemeResource AccentButtonStyle}" 
                            x:Name="LoginBtn" 
                            HorizontalAlignment="Stretch" 
                            Grid.Row="3" 
                            Margin="30,-40,0,0" 
                            Content="Login" 
                            Width="360" 
                            Click="LoginButton"
                            FontWeight="SemiBold"/>

                    <HyperlinkButton x:Name="CustomHyperlink2" 
                                     Margin="251,5,0,0" 
                                     Style="{StaticResource CustomHyperlinkButtonStyle2}" 
                                     NavigateUri="https://discord.com/channels/1185620726695342260/1210499602885640213" 
                                     Content="Sign up"/>

                    <TextBlock Margin="99,-15,0,0" 
                               HorizontalAlignment="Left" 
                               VerticalAlignment="Center" 
                               Text="Don't have an account?" 
                               FontWeight="SemiBold" 
                               Style="{ThemeResource SubtitleTextBlockStyle}" 
                               Grid.Row="1" 
                               FontSize="14"/>
                </StackPanel>

                <InfoBar VerticalAlignment="Center" 
                         x:Name="ErrorInfoBar" 
                         Severity="Error" 
                         Grid.Row="3" 
                         Margin="236,236,236,0" 
                         Visibility="Collapsed"
                         FontWeight="SemiBold">
                    <InfoBar.IconSource>
                        <FontIconSource Glyph="&#xE72E;"/>
                    </InfoBar.IconSource>
                </InfoBar>
            </Grid>
        </Grid>

        <Grid Grid.Row="2" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Background="Transparent">
            <controls:InAppNotification x:Name="ErrorNotification"
                                        Content="This is a test message."
                                        ShowDismissButton="True"
                                        AnimationDuration="00:00:00.2000000"
                                        VerticalOffset="200"
                                        HorizontalOffset="0"
                                        StackMode="Replace"
                                        Grid.Row="3"
                                        Background="#f44336"
                                        Margin="0,0,0,0"
                                        CornerRadius="30"
                                        VerticalAlignment="Top"
                                        MaxHeight="10000"
                                        FontWeight="SemiBold">
                <controls:InAppNotification.ContentTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <TextBlock Text="{Binding Value}" 
                                       Margin="0,0,0,10"
                                       FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding Key}" 
                                       Style="{ThemeResource CaptionTextBlockStyle}" 
                                       Opacity="0.8"
                                       FontWeight="SemiBold"/>
                        </StackPanel>
                    </DataTemplate>
                </controls:InAppNotification.ContentTemplate>
            </controls:InAppNotification>
        </Grid>
    </Grid>
</Page>